@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar { display: none; }

/* A4 Preview */
.a4-preview {
  width: 210mm;
  min-height: 297mm;
  padding: 10mm;
  font-size: 9pt;
  line-height: 1.35;
  background: white;
}

/* Print Container & Common Styles */
.print-container {
  font-family: "Times New Roman", Times, serif;
  font-size: 9pt;
  line-height: 1.35;
  color: #000;
}

.exam-header { margin-bottom: 8px; }
.institute-name { font-size: 14pt; font-weight: bold; text-align: center; margin-bottom: 8px; }
.exam-meta { display: flex; justify-content: space-between; font-size: 9pt; border-bottom: 1px solid #000; padding-bottom: 6px; }
.meta-left, .meta-center, .meta-right { flex: 1; }
.meta-center { text-align: center; }
.meta-right { text-align: right; }
.test-name { font-weight: bold; font-size: 11pt; }
.student-name { margin-top: 6px; font-size: 9pt; }
.header-divider { border: none; border-top: 1px solid #000; margin: 8px 0; }

/* Section */
.section-block { margin-bottom: 15px; }
.section-header { border: 1px solid #000; padding: 6px 8px; margin-bottom: 10px; background: #f9f9f9; }
.section-header h3 { font-size: 10pt; font-weight: bold; margin-bottom: 4px; text-decoration: underline; }
.section-header ul { font-size: 8pt; margin: 0; padding-left: 15px; list-style-type: disc; }
.section-header li { margin-bottom: 2px; }
.marking-scheme { margin-left: 15px; margin-top: 3px; }
.marking-scheme div { margin-bottom: 1px; }

/* Questions */
.questions-columns { column-count: 2; column-gap: 15px; column-rule: 1px solid #ddd; column-fill: balance; }
.print-question { break-inside: auto; page-break-inside: auto; margin-bottom: 6px; font-size: 9pt; orphans: 1; widows: 1; }
.question-row { display: flex; align-items: flex-start; gap: 3px; break-inside: auto; }
.question-number { font-weight: bold; flex-shrink: 0; min-width: 16px; }
.question-body { flex: 1; min-width: 0; break-inside: auto; }
.question-text { line-height: 1.35; }

/* Options */
.options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1px 10px; margin-top: 2px; font-size: 9pt; }
.option-item { display: flex; flex-direction: column; gap: 4px; word-break: break-word; }
.option-text-row { display: flex; align-items: flex-start; gap: 2px; word-break: break-word; }
.option-item .print-math-content { flex: 1; min-width: 0; word-break: break-word; }
.option-images-wrapper { margin-top: 2px; }
.option-label { font-weight: 600; flex-shrink: 0; }
.correct-answer { font-weight: bold; text-decoration: underline; }
.print-math-content { overflow-wrap: break-word; }

.print-images-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 4px; margin: 4px 0; break-inside: avoid; }
.print-image-container { position: relative; background: white; border-radius: 4px; overflow: hidden; }
.print-image { width: 100%; height: 100%; object-fit: contain; }
.explanation-images { margin-top: 4px; }
/* Watermark - hidden on screen */
.print-watermark { display: none; }

/* Print Styles */
@media print {
  @page { size: A4; margin: 8mm; }
  html, body { width: 210mm; margin: 0; padding: 0; background: white !important; -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
  
  body > *:not(#print-root) { display: none !important; }
  #print-root { display: block !important; position: static !important; width: 100% !important; padding: 0 !important; margin: 0 !important; }
  #print-root * { visibility: visible !important; }
  .print-hidden { display: none !important; }
  
  .print-container { display: block !important; padding: 10mm; background: white !important; color: #000 !important; }
  .institute-name { font-size: 13pt; margin-bottom: 6px; }
  .section-header { background: #f5f5f5 !important; }
  .questions-columns { column-gap: 12px; }
  .print-question { margin-bottom: 5px; }
  .options-grid { gap: 1px 8px; margin-top: 1px; font-size: 8.5pt; }
  .MathJax { font-size: inherit !important; }
  nav, footer, aside, .sidebar { display: none !important; }
  
  .print-watermark {
    display: block !important;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-45deg);
    font-size: 80pt;
    font-family: Arial, sans-serif;
    font-weight: bold;
    color: rgba(200, 200, 200, 0.3);
    text-transform: uppercase;
    letter-spacing: 10px;
    pointer-events: none;
    z-index: 9999;
    white-space: nowrap;
  }
}

/* Preview Scrollbar */
.a4-preview::-webkit-scrollbar { width: 6px; }
.a4-preview::-webkit-scrollbar-track { background: #f1f1f1; }
.a4-preview::-webkit-scrollbar-thumb { background: #888; border-radius: 3px; }
.a4-preview::-webkit-scrollbar-thumb:hover { background: #666; }
